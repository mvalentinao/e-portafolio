<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>SQL</title>

  <style>
    body {
      margin: 0;
      min-height: 100vh;
      background: linear-gradient(135deg, #667eea, #764ba2);
      font-family: "Segoe UI", sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .card {
      background: white;
      padding: 40px;
      border-radius: 18px;
      width: 90%;
      max-width: 900px;
      box-shadow: 0 12px 30px rgba(0,0,0,.25);
    }

    pre {
      background: #f4f4f4;
      padding: 16px;
      border-radius: 12px;
      overflow-x: auto;
      text-align: left;
    }

    a {
      display: inline-block;
      margin-top: 20px;
      color: #667eea;
      font-weight: 600;
      text-decoration: none;
    }
  </style>
</head>

<body>
  <div class="card">
    <h1>SQL</h1>

    <h3>Ejercicio 1</h3>
    <pre>
SELECT CONCAT(e.first_name, e.last_name) AS "Nombre Completo",
       COUNT(jh.employee_id) + 1 AS "Total de Cargos"
FROM hr.employees e
JOIN hr.job_history jh ON e.employee_id = jh.employee_id
GROUP BY e.employee_id, e.first_name, e.last_name
HAVING COUNT(jh.employee_id) >= 1
ORDER BY "Total de Cargos" DESC;
    </pre>

    <h3>Ejercicio 2</h3>
    <pre>
SELECT CONCAT(E.FIRST_NAME, ' ', E.LAST_NAME) AS NAME,
       C.COUNTRY_NAME AS COUNTRY,
       E.SALARY
FROM HR.EMPLOYEES E
JOIN HR.DEPARTMENTS D ON E.DEPARTMENT_ID = D.DEPARTMENT_ID
JOIN HR.LOCATIONS L ON L.LOCATION_ID = D.LOCATION_ID
JOIN HR.COUNTRIES C ON L.COUNTRY_ID = C.COUNTRY_ID
JOIN HR.REGIONS R ON C.REGION_ID = R.REGION_ID
WHERE R.REGION_ID = 10
AND E.SALARY BETWEEN 4000 AND 6000;
    </pre>

    <h3>Ejercicio 3</h3>
    <pre>
SELECT
  E.FIRST_NAME || ' ' || E.LAST_NAME AS EMPLEADO,
  LPAD(SUBSTR(E.EMAIL, 1, 3), 9, '*') AS EMAIL_EMPLEADO,
  M.FIRST_NAME || ' ' || M.LAST_NAME AS JEFE,
  LPAD(SUBSTR(M.EMAIL, 1, 3), 9, '*') AS EMAIL_JEFE
FROM HR.EMPLOYEES E
LEFT JOIN HR.EMPLOYEES M ON E.MANAGER_ID = M.EMPLOYEE_ID
ORDER BY E.LAST_NAME;
    </pre>

    <a href="../">â¬… Volver a Evidencias</a>
  </div>
</body>
</html>
